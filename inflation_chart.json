{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 580,
  "height": 150,
  "data": {
    "url": "https://raw.githubusercontent.com/katherinehawkins/FIT3179/refs/heads/main/whole_vic_data.csv"
  },
  "encoding": {
    "x": {
      "field": "year",
      "title": "Year",
      "type": "nominal",
      "scale": {
        "domain": [
          2017,
          2018,
          2019,
          2020,
          2021
        ]
      }
    }
  },
  "layer": [
    {
      "mark": {
        "type": "circle",
        "color": "#FFA500"
      },
      "encoding": {
        "y": {
          "field": "fertility",
          "type": "quantitative",
          "title": "Rate (%)"
        },
        "tooltip": [
          {
            "field": "fertility",
            "type": "nominal",
            "title": "Fertility Rate"
          },
          {
            "field": "year",
            "type": "quantitative",
            "title": "Year"
          }
        ],
        "color": {
          "datum": "Fertility",
          "scale": {
            "range": [
              "#FFA500",
              "#DC143C"
            ]
          }
        }
      }
    },
    {
      "mark": {
        "type": "line",
        "interpolate": "monotone",
        "color": "#DC143C"
      },
      "encoding": {
        "y": {
          "field": "inflation",
          "type": "quantitative",
          "title": "Rate (%)"
        },
        "tooltip": [
          {
            "field": "inflation",
            "type": "nominal",
            "title": "Inflation Rate (%)"
          },
          {
            "field": "year",
            "type": "quantitative",
            "title": "Year"
          }
        ],
        "color": {
          "datum": "Inflation",
          "scale": {
            "range": [
              "#DC143C"
            ]
          }
        }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "center",
        "dy": 60,
        "fontSize": 11.5,
        "fontStyle": "italic",
        "font": "Arial"
      },
      "encoding": {
        "text": {
          "value": "In 2020 - Inflation dropped due to the Covid-19 pandemic"
        },
        "color": {
          "value": "black"
        },
        "opacity": {
          "condition": {
            "test": "datum['year'] == '2020'",
            "value": 1
          },
          "value": 0
        },
        "tooltip": [
          {
            "field": "inflation",
            "type": "nominal",
            "title": "Inflation Rate (%)"
          },
          {
            "field": "year",
            "type": "quantitative",
            "title": "Year"
          }
        ]
      }
    }
  ]
}